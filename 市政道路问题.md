### 道路现在的情况

我们使用到了两张表 1：`道路主表（risk_census_road）`2：`道路分段表（risk_census_road_section）` 两张表的关系是一对多*（主表中的一条数据对应分段表多条数据，一条道路有几个分段）*

### 市政设施-市政道路 指标字段对应表

| 指标项           | 字段     | 总表 | 分段表 |
| ---------------- | -------- | ---- | ------ |
| 道路等级         | dldj     |      | √      |
| 设计速度         | sjsd     |      | √      |
| 通车日期         | tcrq     |      | √      |
| 路辐形式         | lfxs     |      | √      |
| 机动车道数       | jdcds    |      | √      |
| 红线宽度         | min_hxkd |      | √      |
| 最窄机动车宽度   | zzjdcdkd |      | √      |
| 沿线有高架       | gj       | √    |        |
| 沿线有立交       | yxljsl   | √    |        |
| 沿线有交叉口     | yxjcksl  | √    |        |
| 有>8m高填方路基  | gljqksl  | √    |        |
| 有>10m高挖方边坡 | gbpqksl  | √    |        |
| 有6m以上挡墙     | gdqqksl  | √    |        |
| 沿线有桥梁       | yxqlsl   | √    |        |
| 沿线有隧道       | yxsdsl   | √    |        |
| 抗震设防烈度     | kzsfld   | √    |        |
| 不良地质         | qydzgz   |      | √      |
| 道路养护         | zjycdzx  |      | √      |

### 出现的问题

1. 指标分布在不同的表中导致数据之和对应不上道路总数

![image-20220513163732205](https://gitee.com/nagiyoru/pic_bed/raw/master/typora/image-20220513163732205.png)

2. 道路综合查询可使用的查询条件被限制在主表中，道路详情信息显示数据无法概括整条道路的详细情况

### 解决方案

让相关业务专家综合考虑主表与分段表的关系，将俩表合为一张表。*以设计时速为例，一条道路有两段，一段限速为 60-80km/h 另一段为40-60km/h 则将该属性合为40-80km/h*

